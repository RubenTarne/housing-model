# exec:java "-Dexec.args=-configFile src/config-files/MonteCarloBaseline.properties -outputFolder results/MonteCarloBaseline -dev"
# clean validate compile exec:java "-Dexec.args=-outputFolder results/test -dev"
# Configuration file where all parameter values are set
# All parameters in this file must be declared in the config.properties file in order to be recognised and correctly read

##################################################
################ General comments ################
##################################################

# Seed for random number generation is set by calling the program with argument
# "-seed <your_seed>", where <your_seed> must be a positive integer. In the
# absence of this argument, seed is set from machine time

##################################################
######## General model control parameters ########
##################################################

# Seed for random number generator (int)
SEED = 1
# Simulation duration in time steps (int)
N_STEPS = 3200
# Time steps before recording statistics, initialisation time (int)
TIME_TO_START_RECORDING = 2000
# Number of simulations to run (int)
N_SIMS = 1
# True to write outfile with aggregated parameters
recordOutfile = false
# True to write time series for each core indicator (boolean)
recordCoreIndicators = true
# True to write time series of prices for each quality band to a single file per run (boolean)
recordQualityBandPrice = true
# True to write data for each transaction (boolean)
recordTransactions = false
# true to write every offer with its matches over the clearing cycle
recordOffersAndBids = false
# True to write agent based data - very storage intensive (boolean)
recordAgentData = false
# True to write agents decision data (boolean)
recordAgentDecisions = false
# Every X period the micro data recorder records the variables 
microDataRecordIntervall = 1
# True to write individual household bank balance data (boolean)
recordBankBalance = true
# True to write individual household housing wealth data (after market clearing, assuming constant house prices!) (boolean)
recordHousingWealth = true
# True to write individual household number of houses owned data (after market clearing) (boolean)
recordNHousesOwned = true
# True to write individual household saving rate data (disposableIncome - nonEssentialConsumption)/monthlyGrossTotalIncome (boolean)
recordSavingRate = false
# True to write individual household monthlyGrossTotalIncome (after market clearing) (boolean)
recordMonthlyGrossTotalIncome = true
# True to write individual household monthylGrossEmploymentIncome (before market clearing) (boolean)
recordMonthlyGrossEmploymentIncome = false
# True to write individual household monthylGrossEmploymentIncome (after market clearing) (boolean)
recordMonthlyGrossRentalIncome = false
# True to write individual household monthly disposable income
recordMonthlyDisposableIncome = true
# True to write individual households monthly mortgage payments (interest and principal)
recordMonthlyMortgagePayments = true
# True to write individual household debt (after market clearing) (boolean)
recordDebt = true
# True to write individual household total consumption
recordConsumption = true
# True to write individual households consumption induced by income
recordIncomeConsumption = true
# True to write individual households consumption induced by their bankBalances
recordFinancialWealthConsumption = true
# True to write individual households consumption induced by their housing Wealth
recordHousingWealthConsumption = true
# True to write individual households consumption induced by their debt levels
recordDebtConsumption = true
# True to write individual households consumption reduction induced by negative equity
# The reduction is already accounted for in the different parts of the consumption function
recordSavingForDeleveraging = true
# True to write "1" if agent is BTL
recordBTL = true
# True to write "1" if agent is First-time buyer
recordFTB = true
# True to write "1" if agent is living in the first home it has bought
recordInFirstHome = true
# True to write age of agent (double)
recordAge = true
# True to write expenses and revenues stemming from housing transactions (double)
recordTransactionRevenue = true
# True to write the agents ID for every period (int)
recordId = true
# True to write agents newly taken out credit (double)
recordNewCredit = true
# True to write agents regular monthly mortgage repayments (double)
recordPrincipalRepRegular = true
# True to write agents irregular mortgage repayments (inheritance and debt relief) (double)
recordPrincipalRepIrregular = true
# True to write agents paying off outstanding mortgage when selling their property
recordPrincipalRepSale = true
# True to write agents cash injection when going bankrupt
recordBankcuptcyCashInjection = true
# True to write principal paid back due to inheritance
recordPrincipalPaidBackInheritance = true

##################################################
################ decision making  ################
##################################################

# make credit supply dependent on the housing cycle
FLEXIBLE_CREDIT_SUPPLY = false
# toggle flexible LTV, LTI and affordability ratios by the bank
FLEXIBLE_CREDIT_CONSTRAINTS = true
# if false, then only LTV is active, if true all other constraints are binding as well
allCreditConstraintsActive = false
# make consumption solely dependent on income and wealth
ALTERNATE_CONSUMPTION_FUNCTION = true

##################################################
############### rising income inequality #########
##################################################

# implement rising employment income inequality
risingIncomeInequality = false
# percentage by which the employment income inequality rises per year
# here increase of income of the top 5%
yearlyInequalityIncrease = 0.02
# set period when income inequality is rising
periodIncomeInequalityRises = 4000

##################################################
################ trend parameter  ################
##################################################
# add a trend to the employment income
trend = false
# set period when trend should increase
periodTrendStarting = 4000
# monthly increase of income (here 2.22% annual increase)
yearlyIncreaseEmploymentIncome = 0.0222

##################################################
### Alternate consumption function parameters ####
##################################################

# propensity to consume out of disposable income for lowest income quartile
consumptionFractionQ1 = 0.96
# propensity to consume out of disposable income for second income quartile
consumptionFractionQ2 = 0.91
# propensity to consume out of disposable income for third income quartile
consumptionFractionQ3 = 0.86
# propensity to consume out of disposable income for highest income quartile (without the top 10%)
consumptionFractionQ4 = 0.8
# propensity to consume out of disposable income for the top 10% income quartile (without the top 1%)
consumptionFractionTop10 = 0.6
# propensity to consume out of disposable income for the top 1 % income quartile
consumptionFractionTop1 = 0.5
# monthly wealth effect for different income quartiles, and affects bank balance directly, 
# while net housing wealth influences consumption with a smaller effect  
# lowest income quartile wealth effect
wealthEffectQ1 = 0.01
# second income quartile wealth effect
wealthEffectQ2 = 0.008
# third income quartile wealth effect
wealthEffectQ3 = 0.006
# highest income quartile wealth effect (without top 10%)
wealthEffectQ4 = 0.004
# top 10 % wealth effect (without top 1 %)
wealthEffectTop10 = 0.002
# top 1 % wealth effect
wealthEffectTop1 = 0.001

# strength of consumption induced by net housing wealth (i.e. housing wealth less debt) effect
# in relation to consumption induced by liquid wealth (i.e. bank balance)
consumptionNetHousingWealth = 0.25
# share of MonthlyNetTotalIncome used for mortgage payments
paymentsToIncome = 0.2 
# times the monthly disposable income households want to hold liquid
liquidityPreference = 2.0						
# if households is negative lower consumption by this factor
consumptionAdjustmentForDeleveraging = 0.8

##################################################
################ House parameters ################
##################################################

# Number of quality bands for houses (int)
N_QUALITY = 35

##################################################
########### Housing market parameters ############
##################################################

# Time, in days, that a house remains under offer (int)
DAYS_UNDER_OFFER = 7
# Smallest proportional increase in price that can cause a gazump (double)
BIDUP = 1.0075
# Decay constant for the exponential moving average of sale prices (double)
MARKET_AVERAGE_PRICE_DECAY = 1.00
# Median house price (double)
# TODO: Replace by the 2011 value
HPI_MEDIAN = 195000.0
# Shape parameter for the log-normal distribution of housing prices, taken from the ONS (2013) house price index data tables, table 34 (double)
# TODO: Replace by the 2011 value, compare with Land Registry Paid Price data and decide whether to use real distribution
HPI_SHAPE = 0.555
# Profit margin for buy-to-let investors (double)
# Yield on rent had average 6% between 2009/01 and 2015/01, minimum in 2009/10 maximum in 2012/04 peak-to-peak amplitude of 0.4%. Source: Bank of England, unpublished analysis based on Zoopla/Land Registry matching (Philippe Bracke)
RENT_GROSS_YIELD = 0.05

##################################################
############# Demographic parameters #############
##################################################

# Target number of households (int)
TARGET_POPULATION = 10000

##################################################
############## Household parameters ##############
##################################################

# Average number of months a tenant will stay in a rented house (int)
# Source: ARLA - Members survey of the Private Rented Sector Q4 2013
TENANCY_LENGTH_AVERAGE = 18
# Standard deviation of the noise in determining the tenancy length (int)
TENANCY_LENGTH_EPSILON = 6

##################################################
######### Household behaviour parameters #########
##################################################

############# Buy-To-Let parameters ##############
# Prior probability of being (wanting to be) a BTL investor (double)
# TODO: Shouldn't this be 4% according to the article?
P_INVESTOR = 0.08
# Minimum income percentile for a household to be a BTL investor (double)
MIN_INVESTOR_PERCENTILE = 0.5
# Weight that fundamentalists put on cap gain (double)
FUNDAMENTALIST_CAP_GAIN_COEFF = 0.5
# Weight that trend-followers put on cap gain (double)
TREND_CAP_GAIN_COEFF = 0.9
# Probability that a BTL investor is a fundamentalist versus a trend-follower (double)
P_FUNDAMENTALIST = 0.5
# PAUL: what share of BTL investors is AirBnB - investor?
p_airbnb = 0.5
#PAUL what is the maximum rent armortisation for AirBnBs
rentMaxAmortisationPeriodsAirBnB = 15

################ Rent parameters #################
# Desired proportion of income to be spent on rent (double)
DESIRED_RENT_INCOME_FRACTION = 0.33
# Annual psychological cost of renting (double)
# TODO: This value comes from 1.1/12.0... Where does that come from?
PSYCHOLOGICAL_COST_OF_RENTING = 0.0916666666667
# Sensitivity parameter of the decision between buying and renting (double)
# TODO: This value comes from 1.0/3500.0... Where does that come from?
SENSITIVITY_RENT_OR_PURCHASE = 0.000285714285714

############### General parameters ###############
# If the ratio between the buyer's bank balance and the house price is above this,
# payment will be made fully in cash (double)
# Calibrated against mortgage approval/housing transaction ratio, core indicators average 1987-2006
# TODO: Find these sources and clarify this calibration!
BANK_BALANCE_FOR_CASH_DOWNPAYMENT = 2.0
# Dampening or multiplier factor, depending on its value being <1 or >1, for the current trend when computing expectations as in
# HPI(t+DT) = HPI(t) + FACTOR*DT*dHPI/dt (double)
# TODO: According to John Muellbauer, this is a dampening factor (<1). Find a reference for this! ->0.5
HPA_EXPECTATION_FACTOR = 0.5
# Number of years of the HPI record to check when computing the annual HPA, i.e., how much backward looking households are (int) ->1
HPA_YEARS_TO_CHECK = 3

######### Sale price reduction parameters ########
# This subsection was calibrated against Zoopla data at the BoE
# Monthly probability of reducing the price of a house on the market (double)
# This value comes from 1.0-0.945 -> 0.055
P_SALE_PRICE_REDUCE = 0.055
# Mean percentage reduction for prices of houses on the market (double) 1.603
REDUCTION_MU = 1.603
# Standard deviation of percentage reductions for prices of houses on the market (double) 0.617
REDUCTION_SIGMA = 0.617

############# Comsumption parameters #############
# Fraction of the monthly budget allocated for consumption, being the monthly
# budget equal to the bank balance minus the minimum desired bank balance (double)
CONSUMPTION_FRACTION = 0.5
# Fraction of Government support representing the amount necessarily spent monthly by
# all households as essential consumption (double)
ESSENTIAL_CONSUMPTION_FRACTION = 1.0

######### Initial sale price parameters ##########
# Initial markup over average price of same quality houses (double)
# TODO: Note says that, according to BoE calibration, this should be around 0.2. Check and solve this!
SALE_MARKUP = 0.04
# Weight of the months-on-market effect (double)
SALE_WEIGHT_MONTHS_ON_MARKET = 0.011
# Standard deviation of the noise (double) 0.05
SALE_EPSILON = 0.05

##### Buyer's desired expenditure parameters #####
# Scale, number of annual salaries the buyer is willing to spend for buying a house (double)
# TODO: This has been macro-calibra
# owner-occupier LTI and LTV ration, core indicators average 1987-2006. Find sources!
BUY_SCALE = 4.5
# Weight given to house price appreciation when deciding how much to spend for buying a house (double)
BUY_WEIGHT_HPA = 0.08
# Standard deviation of the noise (double)
BUY_EPSILON = 0.14

############ Demanded rent parameters ############
# Markup over average rent demanded for houses of the same quality (double)
RENT_MARKUP = 0.00
# Weight of months-on-market effect
RENT_EQ_MONTHS_ON_MARKET = 0.011
# Standard deviation of the noise (double)
RENT_EPSILON = 0.05
# Maximum period of time BTL investors are ready to wait to get back their investment through rents,
# this determines the minimum rent they are ready to accept (double)
# TODO: @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Attention: This parameter and its associated mechanism are not declared in the article! Need to declare and reference!
RENT_MAX_AMORTIZATION_PERIOD = 20.833333333
# Percentage reduction of demanded rent for every month the property is in the market, not rented (double)
RENT_REDUCTION = 0.05

############# Downpayment parameters #############
# Minimum income percentile to consider any downpayment, below this level, downpayment is set to 0 (double)
# TODO: Calibrated against PSD data, need clearer reference or disclose distribution!
DOWNPAYMENT_MIN_INCOME = 0.3
# TODO: Both functional form and parameters are micro-calibrated against BoE data. Need reference or disclose distribution!
# Scale parameter for the log-normal distribution of downpayments by first-time-buyers (double)
DOWNPAYMENT_FTB_SCALE = 10.30
# Shape parameter for the log-normal distribution of downpayments by first-time-buyers (double)
DOWNPAYMENT_FTB_SHAPE = 0.9093
# Scale parameter for the log-normal distribution of downpayments by owner-occupiers (double)
DOWNPAYMENT_OO_SCALE = 11.155
# Shape parameter for the log-normal distribution of downpayments by owner-occupiers (double)
DOWNPAYMENT_OO_SHAPE = 0.7538
# Average downpayment, as percentage of house price, by but-to-let investors (double)
# TODO: Said to be calibrated to match LTV ratios, but no reference is given. Need reference!
# TODO: @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Attention: Functional form slightly different to the one presented in the article
DOWNPAYMENT_BTL_MEAN = 0.3
# Standard deviation of the noise (double)
DOWNPAYMENT_BTL_EPSILON = 0.1

########## Selling decision parameters ###########
# Average period, in years, for which owner-occupiers hold their houses (double)
# British housing survey 2008
HOLD_PERIOD = 11.0

######### BTL buy/sell choice parameters #########
# Shape parameter, or intensity of choice on effective yield (double)
BTL_CHOICE_INTENSITY = 50.0
# Minimun bank balance, as a percentage of the desired bank balance, to buy new properties (double)
# TODO: @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Attention: This parameter and its associated mechanism are not declared in the article! Need to declare and reference!
BTL_CHOICE_MIN_BANK_BALANCE = 0.75

##################################################
################ Bank parameters #################
##################################################
# TODO: We need references or justification for all these values!

# Flexible credit supply adjustment parameter
CREDIT_SUPPLY_ADJUSTMENT = 1
#Sensitivity of the LTV parameter to the HPA
LTVAdjustmentFactor = 0.5
# Mortgage duration in years (int)
MORTGAGE_DURATION_YEARS = 25
# Bank initial base-rate, which remains currently unchanged (double)
BANK_INITIAL_BASE_RATE = 0.005
# Bank's target supply of credit per household per month (double)
BANK_CREDIT_SUPPLY_TARGET = 380
# Maximum LTV ratio that the private bank would allow for first-time-buyers (double)
BANK_MAX_FTB_LTV = 0.95
# Maximum LTV ratio that the private bank would allow for owner-occupiers (double)
BANK_MAX_OO_LTV = 0.9 
# Maximum LTV ratio that the private bank would allow for BTL investors (double)
BANK_MAX_BTL_LTV = 0.8
# Maximum LTI ratio that the private bank would allow for first-time-buyers (private bank's hard limit) (double)
BANK_MAX_FTB_LTI = 6.0
# Maximum LTI ratio that the private bank would allow for owner-occupiers (private bank's hard limit) (double)
BANK_MAX_OO_LTI = 6.0

##################################################
############# Central bank parameters ############
##################################################
# TODO: We need references or justification for all these values! Also, need to clarify meaning of "when not regulated"

# Maximum LTI ratio that the bank would allow for first-time-buyers when not regulated (double)
CENTRAL_BANK_MAX_FTB_LTI = 6.0
# Maximum LTI ratio that the bank would allow for owner-occupiers when not regulated (double)
CENTRAL_BANK_MAX_OO_LTI = 6.0
# Maximum fraction of mortgages that the bank can give over the LTI ratio limit (double)
CENTRAL_BANK_FRACTION_OVER_MAX_LTI = 0.15
# Maximum fraction of the household's income to be spent on mortgage repayments under stressed conditions (double)
CENTRAL_BANK_AFFORDABILITY_COEFF = 0.5
# Interest rate under stressed condition for BTL investors when calculating interest coverage ratios, ICR (double)
CENTRAL_BANK_BTL_STRESSED_INTEREST = 0.05
# Interest coverage ratio (ICR) limit imposed by the central bank (double)
CENTRAL_BANK_MAX_ICR = 1.25

##################################################
############ Construction parameters #############
##################################################
# TODO: We need references or justification for all these values!

# Target ratio of houses per household (double)
CONSTRUCTION_HOUSES_PER_HOUSEHOLD = 0.82

##################################################
############# Government parameters ##############
##################################################

# General personal allowance to be deducted when computing taxable income (double)
GOVERNMENT_GENERAL_PERSONAL_ALLOWANCE = 9440.0
# Limit of income above which personal allowance starts to decrease \uFFFD1 for every \uFFFD2 of income above this limit (double)
GOVERNMENT_INCOME_LIMIT_FOR_PERSONAL_ALLOWANCE = 100000.0
# Minimum monthly earnings for a married couple from income support (double)
# TODO: We need a reference or justification for this value!
GOVERNMENT_MONTHLY_INCOME_SUPPORT = 492.7

##################################################
############## Collectors parameters #############
##################################################

# Approximate number of households in UK, used to scale up results for core indicators (double)
# TODO: Reference needed
UK_HOUSEHOLDS = 26.5e6
# Whether to record mortgage statistics (boolean)
MORTGAGE_DIAGNOSTICS_ACTIVE = true

##################################################
################# Data addresses #################
##################################################

############ Government data addresses ###########
# From www.gov.uk/government/statistics historical data
DATA_TAX_RATES = "src/main/resources/TaxRates.csv"
DATA_NATIONAL_INSURANCE_RATES = "src/main/resources/NationalInsuranceRates.csv"

############ Lifecycle data addresses ############
# Both from WAS wave 3 household data, weighted
DATA_INCOME_GIVEN_AGE = "src/main/resources/AgeGrossIncomeJointDist.csv"
DATA_WEALTH_GIVEN_INCOME = "src/main/resources/GrossIncomeLiqWealthJointDist.csv"

########### Demographics data addresses ##########
# From WAS wave 3 household data, weighted
DATA_AGE_DISTRIBUTION = "src/main/resources/Age9-Weighted.csv"
